<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI课程生成配置 - FCBS管理系统</title>
    <link rel="stylesheet" href="styles/ai-course-generator.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
    <div class="ai-generator-container">
        <!-- 页面头部 -->
        <div class="page-header">
            <div class="header-left">
                <h1 class="page-title">AI课程生成配置</h1>
                <p class="page-subtitle">基于用户画像和历史数据智能生成个性化课程</p>
            </div>
            <div class="header-actions">
                <button class="action-btn primary-btn" onclick="generateCourse()">
                    <i class="fas fa-magic"></i>
                    生成课程
                </button>
                <button class="action-btn secondary-btn" onclick="saveConfig()">
                    <i class="fas fa-save"></i>
                    保存配置
                </button>
            </div>
        </div>

        <!-- 配置选项卡 -->
        <div class="config-tabs">
            <button class="tab-btn active" data-tab="model-config">AI模型配置</button>
            <button class="tab-btn" data-tab="generation-rules">生成规则配置</button>
            <button class="tab-btn" data-tab="preview-test">预览测试</button>
        </div>

        <!-- AI模型配置 -->
        <div class="config-section active" id="model-config">
            <div class="section-header">
                <h2>AI模型配置</h2>
                <p>配置基于用户数据的分析模型参数</p>
            </div>

            <!-- 数据源配置 -->
            <div class="config-card">
                <h3>数据源权重配置</h3>
                <div class="data-source-config">
                    <div class="source-item">
                        <label>用户画像数据</label>
                        <div class="weight-control">
                            <input type="range" id="userProfileWeight" min="0" max="100" value="25">
                            <span class="weight-value">25%</span>
                        </div>
                        <div class="source-details">
                            <label><input type="checkbox" checked> 年龄段</label>
                            <label><input type="checkbox" checked> 性别</label>
                            <label><input type="checkbox" checked> 健康状况</label>
                            <label><input type="checkbox" checked> 运动经验</label>
                        </div>
                    </div>

                    <div class="source-item">
                        <label>历史训练数据</label>
                        <div class="weight-control">
                            <input type="range" id="trainingHistoryWeight" min="0" max="100" value="30">
                            <span class="weight-value">30%</span>
                        </div>
                        <div class="source-details">
                            <label><input type="checkbox" checked> 训练频率</label>
                            <label><input type="checkbox" checked> 训练强度</label>
                            <label><input type="checkbox" checked> 完成率</label>
                            <label><input type="checkbox" checked> 进步趋势</label>
                        </div>
                    </div>

                    <div class="source-item">
                        <label>当前课程数据</label>
                        <div class="weight-control">
                            <input type="range" id="currentCourseWeight" min="0" max="100" value="20">
                            <span class="weight-value">20%</span>
                        </div>
                        <div class="source-details">
                            <label><input type="checkbox" checked> 课程类型</label>
                            <label><input type="checkbox" checked> 难度等级</label>
                            <label><input type="checkbox" checked> 训练内容</label>
                            <label><input type="checkbox" checked> 时长分布</label>
                        </div>
                    </div>

                    <div class="source-item">
                        <label>训练感受反馈</label>
                        <div class="weight-control">
                            <input type="range" id="feedbackWeight" min="0" max="100" value="15">
                            <span class="weight-value">15%</span>
                        </div>
                        <div class="source-details">
                            <label><input type="checkbox" checked> 舒适度评分</label>
                            <label><input type="checkbox" checked> 疲劳度反馈</label>
                            <label><input type="checkbox" checked> 满意度评价</label>
                            <label><input type="checkbox" checked> 主观感受</label>
                        </div>
                    </div>

                    <div class="source-item">
                        <label>最新评估报告</label>
                        <div class="weight-control">
                            <input type="range" id="assessmentWeight" min="0" max="100" value="10">
                            <span class="weight-value">10%</span>
                        </div>
                        <div class="source-details">
                            <label><input type="checkbox" checked> 肌力评估</label>
                            <label><input type="checkbox" checked> 耐力评估</label>
                            <label><input type="checkbox" checked> 协调性评估</label>
                            <label><input type="checkbox" checked> 改善建议</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 模型参数配置 -->
            <div class="config-card">
                <h3>模型参数配置</h3>
                <div class="model-params">
                    <div class="param-group">
                        <label>学习率</label>
                        <input type="number" id="learningRate" value="0.001" step="0.001" min="0.0001" max="0.1">
                    </div>
                    <div class="param-group">
                        <label>批次大小</label>
                        <input type="number" id="batchSize" value="32" min="1" max="128">
                    </div>
                    <div class="param-group">
                        <label>迭代次数</label>
                        <input type="number" id="epochs" value="100" min="10" max="1000">
                    </div>
                    <div class="param-group">
                        <label>正则化系数</label>
                        <input type="number" id="regularization" value="0.01" step="0.001" min="0" max="1">
                    </div>
                </div>
            </div>

            <!-- 算法选择 -->
            <div class="config-card">
                <h3>算法选择</h3>
                <div class="algorithm-selection">
                    <div class="algorithm-option">
                        <input type="radio" id="neuralNetwork" name="algorithm" value="neural_network" checked>
                        <label for="neuralNetwork">
                            <strong>神经网络</strong>
                            <span>适用于复杂模式识别和个性化推荐</span>
                        </label>
                    </div>
                    <div class="algorithm-option">
                        <input type="radio" id="randomForest" name="algorithm" value="random_forest">
                        <label for="randomForest">
                            <strong>随机森林</strong>
                            <span>适用于特征重要性分析和稳定预测</span>
                        </label>
                    </div>
                    <div class="algorithm-option">
                        <input type="radio" id="gradientBoosting" name="algorithm" value="gradient_boosting">
                        <label for="gradientBoosting">
                            <strong>梯度提升</strong>
                            <span>适用于高精度预测和特征组合</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 生成规则配置 -->
        <div class="config-section" id="generation-rules">
            <div class="section-header">
                <h2>自动化生成规则配置</h2>
                <p>设置课程生成的具体规则和约束条件</p>
            </div>

            <!-- 课节数规则 -->
            <div class="config-card">
                <h3>课节数生成规则</h3>
                <div class="rule-config">
                    <div class="rule-item">
                        <label>基础课节数范围</label>
                        <div class="range-input">
                            <input type="number" id="minSessions" value="8" min="1" max="50">
                            <span>至</span>
                            <input type="number" id="maxSessions" value="20" min="1" max="50">
                            <span>节</span>
                        </div>
                    </div>
                    <div class="rule-item">
                        <label>用户经验调整系数</label>
                        <div class="experience-factors">
                            <div class="factor-item">
                                <span>初学者</span>
                                <input type="number" id="beginnerFactor" value="0.8" step="0.1" min="0.5" max="1.5">
                            </div>
                            <div class="factor-item">
                                <span>进阶者</span>
                                <input type="number" id="intermediateFactor" value="1.0" step="0.1" min="0.5" max="1.5">
                            </div>
                            <div class="factor-item">
                                <span>专业用户</span>
                                <input type="number" id="advancedFactor" value="1.2" step="0.1" min="0.5" max="1.5">
                            </div>
                        </div>
                    </div>
                    <div class="rule-item">
                        <label>健康状况调整</label>
                        <div class="health-adjustments">
                            <label><input type="checkbox" checked> 根据评估报告调整课节数</label>
                            <label><input type="checkbox" checked> 考虑历史完成率</label>
                            <label><input type="checkbox"> 优先考虑用户反馈</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 课程内容生成规则 -->
            <div class="config-card">
                <h3>课程内容生成规则</h3>
                <div class="content-rules">
                    <div class="rule-category">
                        <h4>训练类型分布</h4>
                        <div class="distribution-config">
                            <div class="dist-item">
                                <label>基础训练</label>
                                <input type="range" id="basicTrainingRatio" min="0" max="100" value="40">
                                <span>40%</span>
                            </div>
                            <div class="dist-item">
                                <label>强化训练</label>
                                <input type="range" id="intensiveTrainingRatio" min="0" max="100" value="35">
                                <span>35%</span>
                            </div>
                            <div class="dist-item">
                                <label>恢复训练</label>
                                <input type="range" id="recoveryTrainingRatio" min="0" max="100" value="25">
                                <span>25%</span>
                            </div>
                        </div>
                    </div>

                    <div class="rule-category">
                        <h4>难度递进规则</h4>
                        <div class="progression-rules">
                            <div class="progression-item">
                                <label>初始难度系数</label>
                                <input type="number" id="initialDifficulty" value="0.3" step="0.1" min="0.1" max="1.0">
                            </div>
                            <div class="progression-item">
                                <label>递进步长</label>
                                <input type="number" id="progressionStep" value="0.1" step="0.05" min="0.05" max="0.3">
                            </div>
                            <div class="progression-item">
                                <label>最大难度</label>
                                <input type="number" id="maxDifficulty" value="0.9" step="0.1" min="0.5" max="1.0">
                            </div>
                        </div>
                    </div>

                    <div class="rule-category">
                        <h4>训练时长规则</h4>
                        <div class="duration-rules">
                            <div class="duration-item">
                                <label>单节课时长范围</label>
                                <div class="range-input">
                                    <input type="number" id="minDuration" value="15" min="5" max="60">
                                    <span>至</span>
                                    <input type="number" id="maxDuration" value="45" min="5" max="60">
                                    <span>分钟</span>
                                </div>
                            </div>
                            <div class="duration-item">
                                <label>休息时间比例</label>
                                <input type="number" id="restRatio" value="0.3" step="0.1" min="0.1" max="0.5">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 个性化调整规则 -->
            <div class="config-card">
                <h3>个性化调整规则</h3>
                <div class="personalization-rules">
                    <div class="rule-group">
                        <h4>基于历史数据的调整</h4>
                        <div class="adjustment-options">
                            <label><input type="checkbox" checked> 根据完成率调整难度</label>
                            <label><input type="checkbox" checked> 根据训练频率调整强度</label>
                            <label><input type="checkbox" checked> 根据进步速度调整内容</label>
                            <label><input type="checkbox"> 根据设备使用习惯优化</label>
                        </div>
                    </div>
                    <div class="rule-group">
                        <h4>基于反馈的调整</h4>
                        <div class="feedback-rules">
                            <div class="feedback-item">
                                <label>舒适度阈值</label>
                                <input type="number" id="comfortThreshold" value="7" min="1" max="10">
                                <span>/10</span>
                            </div>
                            <div class="feedback-item">
                                <label>疲劳度阈值</label>
                                <input type="number" id="fatigueThreshold" value="6" min="1" max="10">
                                <span>/10</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 预览测试 -->
        <div class="config-section" id="preview-test">
            <div class="section-header">
                <h2>预览测试</h2>
                <p>测试AI模型生成效果并预览课程内容</p>
            </div>

            <!-- 测试用户选择 -->
            <div class="config-card">
                <h3>选择测试用户</h3>
                <div class="test-user-selection">
                    <select id="testUserSelect">
                        <option value="">请选择测试用户</option>
                        <option value="user1">张三 - 初学者，女性，35岁</option>
                        <option value="user2">李四 - 进阶者，男性，28岁</option>
                        <option value="user3">王五 - 专业用户，女性，42岁</option>
                    </select>
                    <button class="btn primary-btn" onclick="loadUserData()">加载用户数据</button>
                </div>
            </div>

            <!-- 用户数据预览 -->
            <div class="config-card" id="userDataPreview" style="display: none;">
                <h3>用户数据概览</h3>
                <div class="user-data-grid">
                    <div class="data-item">
                        <label>用户画像</label>
                        <div id="userProfileData"></div>
                    </div>
                    <div class="data-item">
                        <label>训练历史</label>
                        <div id="trainingHistoryData"></div>
                    </div>
                    <div class="data-item">
                        <label>最新评估</label>
                        <div id="assessmentData"></div>
                    </div>
                    <div class="data-item">
                        <label>反馈记录</label>
                        <div id="feedbackData"></div>
                    </div>
                </div>
            </div>

            <!-- 生成结果预览 -->
            <div class="config-card" id="generationResult" style="display: none;">
                <h3>AI生成结果</h3>
                <div class="generation-summary">
                    <div class="summary-item">
                        <label>推荐课节数</label>
                        <span id="recommendedSessions"></span>
                    </div>
                    <div class="summary-item">
                        <label>总训练时长</label>
                        <span id="totalDuration"></span>
                    </div>
                    <div class="summary-item">
                        <label>难度等级</label>
                        <span id="difficultyLevel"></span>
                    </div>
                    <div class="summary-item">
                        <label>主要训练类型</label>
                        <span id="mainTrainingTypes"></span>
                    </div>
                </div>
                <div class="course-preview">
                    <h4>课程内容预览</h4>
                    <div id="courseContentPreview"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/ai-course-generator.js"></script>
</body>
</html>